<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CuPo</title>
    <link rel="stylesheet" href="../css/global.css" />
    <link rel="stylesheet" href="../css/menu.css" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <script src="../js/tokenScript.js"></script>
    <!-- <script src="../js/foodFetch.js"></script> -->
    <script>
        function protectMenuPage() {
            const token = getToken();
            // if (!token || !isTokenValid(token) || getUserRole(token) !== 'standard') {
            if (!token || !isTokenValid(token)) {
                window.location.replace(window.location.origin + '/login');
            }
        }

        document.addEventListener('DOMContentLoaded', function () {
            protectMenuPage();
            // fetchAllFoodData(); // fetch data from databse through the /api/food endpoint
        });
    </script>
</head>

<body>
    <header class="fixed-header">
        <div class="logo-search-container">
            <img class="logo" src="../images/logo.png" alt="logo">
            <form>
                <div class="search">
                    <span class="search-icon material-symbols-outlined">search</span>
                    <input class="search-input" type="search" placeholder="Search">
                </div>
            </form>
        </div>
        <nav>
            <ul class="navigation-links">
                <li><a href="/shoppinglist">Shopping List</a></li>
                <li><a href="/statistics">Get Statistics</a></li>
                <li><a href="/favorites">Favorites</a></li>
                <li><a href="/friends">Friends</a></li>
                <li><a href="/profile">Profile</a></li>
                <li><a href="#" id="help-link">Help</a></li>
            </ul>
        </nav>
    </header>
    <div class="container">
        <aside class="sidebar">
            <h2>Filters</h2>
            <div class="range">
                <label for="price-filter">Calories:</label>
                <input type="range" id="price-filter" name="price-filter" min="0" max="320" value="0">
                <div class="range-values">
                    <span id="min-value">0</span>
                    <span id="max-value">320</span>
                </div>
            </div>
            <div class="filter">
                <label for="restrictions-filter">Restrictions:</label>
                <select id="restrictions-filter" name="restrictions-filter">
                    <option value="none">None</option>
                    <option value="vegan">Gluten</option>
                    <option value="vegetarian">Lactose</option>
                    <option value="nuts">Shellfish</option>
                    <option value="nuts">Peanuts</option>
                </select>
            </div>
            <button class="filter-button">Apply Filters</button>
        </aside>
        <main>
            <h1 class="title">Categories of products</h1>
            <div class="categories">
                <a href="#fruits" class="card">
                    <h1>Fruits</h1>
                </a>
                <a href="#vegetables" class="card">
                    <h1>Vegetables</h1>
                </a>

                <a href="#meat" class="card">
                    <h1>Meat poultry and fish</h1>
                </a>
                <a href="#dairy" class="card">
                    <h1>Dairy products</h1>
                </a>
                <a href="#grains" class="card">
                    <h1>Grains</h1>
                </a>
                <a href="#snacks" class="card">
                    <h1>Snacks</h1>
                </a>
                <a href="#beverages" class="card">
                    <h1>Beverages</h1>
                </a>
                <a href="#sauce" class="card">
                    <h1>Sauces</h1>
                </a>
                <a href="#cannedgoods" class="card">
                    <h1>Canned Goods</h1>
                </a>
                <a href="#frozenfood" class="card">
                    <h1>Frozen Food</h1>
                </a>
            </div>
        </main>
    </div>

    <div id="help-popup" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Help</h2>
            <p>This application is designed for people who want to keep track of their culinary preferences and
                additionally create shopping lists. You can also see statistics about your favorite products and see
                what others like. The app supports export, so you can save your preferences and do whatever with them
                outside the web application.
                <br> This project is made by PÃ®ntea Andreea and Zaharia Sabina for the Web Technologies class.
            </p>
        </div>
    </div>

    <!-- Modal Structure -->
    <div id="shoppingListModal" class="modalsh">
        <div class="modal-content-sh">
            <span class="close">&times;</span>
            <h2>Shopping Lists</h2>
            <ul id="shoppingListTitles">
            <!-- Shopping list titles will be added here dynamically -->
            </ul>
            <button id="createNewList">Create New Shopping List</button>
        </div>
    </div>

    <section id="fruits">
        <h2 class="title">Fruits</h2>
        <div class="product-container"></div>
    </section>

    <section id="vegetables">
        <h2 class="title">Vegetables</h2>
        <div class="product-container"></div>
    </section>

    <section id="meat">
        <h2 class="title">Meat poultry and fish</h2>
        <div class="product-container"></div>

    </section>

    <section id="dairy">
        <h2 class="title">Dairy products</h2>
        <div class="product-container"></div>
    </section>

    <section id="grains">
        <h2 class="title">Grains</h2>
        <div class="product-container"></div>
    </section>

    <section id="snacks">
        <h2 class="title">Snacks</h2>
        <div class="product-container"></div>
    </section>

    <section id="beverages">
        <h2 class="title">Beverages</h2>
        <div class="product-container"></div>
    </section>

    <section id="sauce">
        <h2 class="title">Sauces</h2>
        <div class="product-container"></div>
    </section>

    <section id="cannedgoods">
        <h2 class="title">Canned goods</h2>
        <div class="product-container"></div>
    </section>

    <section id="frozenfood">
        <h2 class="title">Frozen Food</h2>
        <div class="product-container"></div>
    </section>
    <script type="module" src="../js/foodFetch.js"></script> <!-- import { fetchAllFoodData } from '../js/foodFetch.js'; -->
    <script src="../js/menu.js"></script>
</body>

</html>