<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Statistics CuPo</title>
  <link rel="stylesheet" href="../css/global.css" />
  <link rel="stylesheet" href="../css/statistics.css" />
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <!-- <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'> -->
  <!--chart 1-->

  <script src="../js/tokenScript.js"></script>
  <script>
    function protectPage() {
      const token = getToken();
      if (!token || !isTokenValid(token)) {
        window.location.replace(window.location.origin + '/login');
      }
    }

    document.addEventListener('DOMContentLoaded', function () {
      protectPage();
    });
  </script>

  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript">
    google.charts.load('current', { 'packages': ['corechart'] });
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {

      var data = google.visualization.arrayToDataTable([
        ['Food', 'Percentage'],
        ['Anchovies', 5],
        ['Brussel Sprouts', 7],
        ['Olives', 2],
        ['Blue cheese', 3],
        ['Licorice', 2]
      ]);

      var options = {
        title: 'What foods do people hate most?'
      };

      var chart = new google.visualization.PieChart(document.getElementById('piechart'));

      chart.draw(data, options);
    }
  </script>

  <!--chart2-->
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript">
    google.charts.load('current', { 'packages': ['corechart'] });
    google.charts.setOnLoadCallback(drawSeriesChart);

    function drawSeriesChart() {

      var data = google.visualization.arrayToDataTable([
        ['ID', 'Happiness level', 'Height', 'Region', 'Amount of food'],
        ['CAN', 80.66, 1.67, 'North America', 33739900],
        ['DEU', 79.84, 1.36, 'Europe', 81902307],
        ['DNK', 78.6, 1.84, 'Europe', 5523095],
        ['EGY', 72.73, 2.78, 'Middle East', 79716203],
        ['GBR', 80.05, 2, 'Europe', 61801570],
        ['IRN', 72.49, 1.7, 'Middle East', 73137148],
        ['IRQ', 68.09, 4.77, 'Middle East', 31090763],
        ['ISR', 81.55, 2.96, 'Middle East', 7485600],
        ['RUS', 68.6, 1.54, 'Europe', 141850000],
        ['USA', 78.09, 2.05, 'North America', 307007000]
      ]);

      var options = {
        title: 'How many factors influence the amount of food we eat' +
          ' X=Gender, Y=Happiness, Bubble size=Amount od food, Bubble color=Region',
        hAxis: { title: 'Gender' },
        vAxis: { title: 'Happiness' },
        bubble: { textStyle: { fontSize: 11 } }
      };

      var chart = new google.visualization.BubbleChart(document.getElementById('series_chart_div'));
      chart.draw(data, options);
    }
  </script>


  <!--chart3-->
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript">
    google.charts.load("current", { packages: ["corechart"] });
    google.charts.setOnLoadCallback(drawChart);
    function drawChart() {
      var data = google.visualization.arrayToDataTable([
        ['Region', 'Million of tons anually'],
        ['Americana', 20],
        ['China', 91],
        ['India', 68],
        ['Japan', 8],
        ['Germany', 6]
      ]);

      var options = {
        title: 'Who contributes the most to food waste',
        is3D: true,
      };

      var chart = new google.visualization.PieChart(document.getElementById('piechart_3d'));
      chart.draw(data, options);
    }
  </script>

  <!--chart4-->
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript">
    google.charts.load('current', { 'packages': ['table'] });
    google.charts.setOnLoadCallback(drawTable);

    function drawTable() {
      var data = new google.visualization.DataTable();
      data.addColumn('string', 'Gender');
      data.addColumn('number', 'Salary');
      data.addColumn('boolean', 'Obese?');
      data.addRows([
        ['M', { v: 10000, f: '$10,000' }, true],
        ['F', { v: 8000, f: '$8,000' }, false],
        ['F', { v: 12500, f: '$12,500' }, true],
        ['M', { v: 7000, f: '$7,000' }, true],
        ['F', { v: 15000, f: '$15,000' }, true],
        ['M', { v: 5000, f: '$5,000' }, false],
        ['M', { v: 3000, f: '$3,000' }, false],
        ['F', { v: 50000, f: '$50,000' }, false]
      ]);

      var table = new google.visualization.Table(document.getElementById('table_div'));

      table.draw(data, { showRowNumber: true, width: '100%', height: '100%' });
    }
  </script>

</head>

<body>
  <header class="fixed-header">
    <div class="logo-search-container">
      <img class="logo" src="../images/logo.png" alt="logo">
      <form>
        <div class="search">
          <span class="search-icon material-symbols-outlined">search</span>
          <input class="search-input" type="search" placeholder="Search">
        </div>
      </form>
    </div>
    <nav>
      <ul class="navigation-links">
        <li><a href="/menu">Main Menu</a></li>
        <li><a href="/shoppinglist">Shopping List</a></li>
        <li><a href="/favorites">Favorites</a></li>
        <li><a href="/friends">Friends</a></li>
        <li><a href="#" id="help-link">Help</a></li>
      </ul>
    </nav>
  </header>
  <div id="help-popup" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>Statistics - help</h2>
      <p>This page is specifically meant to provide various statistics that you never even thought about! From what you
        ate in the last month, to how many have a irrational fear of peas...
        <br> Enjoy your weird stats!
      </p>
    </div>
  </div>
  <div class="charts">
    <div id="piechart" class="chart1"></div>
    <div id="series_chart_div" class="chart2"></div>
    <div id="piechart_3d" class="chart3"></div>
    <div id="table_div" class="chart4"></div>
  </div>
  <script src="../js/menu.js"></script>
</body>

</html>